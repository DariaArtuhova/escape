{"ast":null,"code":"var _jsxFileName = \"/Users/daria/Desktop/ escape/project/src/components/map/map.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\nimport { Icon, Marker } from 'leaflet';\nimport useMap from '../../hooks/useMap';\nimport { URL_MARKER_DEFAULT, URL_MARKER_CURRENT } from '../../const';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultCustomIcon = new Icon({\n  iconUrl: URL_MARKER_DEFAULT,\n  iconSize: [40, 40],\n  iconAnchor: [20, 40]\n});\nconst currentCustomIcon = new Icon({\n  iconUrl: URL_MARKER_CURRENT,\n  iconSize: [40, 40],\n  iconAnchor: [20, 40]\n});\nfunction Map(props) {\n  _s();\n  const {\n    address,\n    points,\n    selectedPoint\n  } = props;\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, address);\n  useEffect(() => {\n    if (map) {\n      address.forEach(point => {\n        const marker = new Marker({\n          lat: point.coords[0],\n          lng: point.coords[1]\n        });\n        marker.setIcon(selectedPoint !== undefined && point.coords === selectedPoint.locations[0].coords && point.coords === selectedPoint.locations[0].coords ? currentCustomIcon : defaultCustomIcon).addTo(map);\n      });\n    }\n  }, [map, points, selectedPoint]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '529px'\n    },\n    ref: mapRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 10\n  }, this);\n}\n_s(Map, \"5vFIHA1c6X7IDKKBLe6xFlu/6wA=\", false, function () {\n  return [useMap];\n});\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["useRef","useEffect","Icon","Marker","useMap","URL_MARKER_DEFAULT","URL_MARKER_CURRENT","defaultCustomIcon","iconUrl","iconSize","iconAnchor","currentCustomIcon","Map","props","address","points","selectedPoint","mapRef","map","forEach","point","marker","lat","coords","lng","setIcon","undefined","locations","addTo","height"],"sources":["/Users/daria/Desktop/ escape/project/src/components/map/map.tsx"],"sourcesContent":["import {useRef, useEffect} from 'react';\nimport {Icon, Marker} from 'leaflet';\nimport useMap from '../../hooks/useMap';\nimport {URL_MARKER_DEFAULT, URL_MARKER_CURRENT} from '../../const';\nimport 'leaflet/dist/leaflet.css';\nimport { BookingType, LocationCoordinates} from '../../types/booking-type';\n\ntype MapProps = {\n  address: LocationCoordinates;\n  points?: BookingType[];\n  selectedPoint?: BookingType | undefined;\n};\n\nconst defaultCustomIcon = new Icon({\n  iconUrl: URL_MARKER_DEFAULT,\n  iconSize: [40, 40],\n  iconAnchor: [20, 40]\n});\n\nconst currentCustomIcon = new Icon({\n  iconUrl: URL_MARKER_CURRENT,\n  iconSize: [40, 40],\n  iconAnchor: [20, 40]\n});\n\nfunction Map(props: MapProps): JSX.Element {\n  const {address, points, selectedPoint} = props;\n\n  const mapRef = useRef(null);\n  const map = useMap(mapRef, address);\n\n  useEffect(() => {\n    if (map) {\n      address.forEach((point) => {\n        const marker = new Marker({\n          lat: point.coords[0],\n          lng: point.coords[1]\n        });\n\n\n        marker\n          .setIcon(\n            selectedPoint !== undefined &&\n            point.coords === selectedPoint.locations[0].coords &&\n            point.coords === selectedPoint.locations[0].coords\n              ? currentCustomIcon\n              : defaultCustomIcon\n          )\n          .addTo(map);\n\n\n      });\n    }\n  }, [map, points, selectedPoint]);\n\n  return <div style={{height: '529px'}} ref={mapRef}></div>;\n}\n\nexport default Map;\n"],"mappings":";;AAAA,SAAQA,MAAM,EAAEC,SAAS,QAAO,OAAO;AACvC,SAAQC,IAAI,EAAEC,MAAM,QAAO,SAAS;AACpC,OAAOC,MAAM,MAAM,oBAAoB;AACvC,SAAQC,kBAAkB,EAAEC,kBAAkB,QAAO,aAAa;AAClE,OAAO,0BAA0B;AAAC;AASlC,MAAMC,iBAAiB,GAAG,IAAIL,IAAI,CAAC;EACjCM,OAAO,EAAEH,kBAAkB;EAC3BI,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;AACrB,CAAC,CAAC;AAEF,MAAMC,iBAAiB,GAAG,IAAIT,IAAI,CAAC;EACjCM,OAAO,EAAEF,kBAAkB;EAC3BG,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;AACrB,CAAC,CAAC;AAEF,SAASE,GAAG,CAACC,KAAe,EAAe;EAAA;EACzC,MAAM;IAACC,OAAO;IAAEC,MAAM;IAAEC;EAAa,CAAC,GAAGH,KAAK;EAE9C,MAAMI,MAAM,GAAGjB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMkB,GAAG,GAAGd,MAAM,CAACa,MAAM,EAAEH,OAAO,CAAC;EAEnCb,SAAS,CAAC,MAAM;IACd,IAAIiB,GAAG,EAAE;MACPJ,OAAO,CAACK,OAAO,CAAEC,KAAK,IAAK;QACzB,MAAMC,MAAM,GAAG,IAAIlB,MAAM,CAAC;UACxBmB,GAAG,EAAEF,KAAK,CAACG,MAAM,CAAC,CAAC,CAAC;UACpBC,GAAG,EAAEJ,KAAK,CAACG,MAAM,CAAC,CAAC;QACrB,CAAC,CAAC;QAGFF,MAAM,CACHI,OAAO,CACNT,aAAa,KAAKU,SAAS,IAC3BN,KAAK,CAACG,MAAM,KAAKP,aAAa,CAACW,SAAS,CAAC,CAAC,CAAC,CAACJ,MAAM,IAClDH,KAAK,CAACG,MAAM,KAAKP,aAAa,CAACW,SAAS,CAAC,CAAC,CAAC,CAACJ,MAAM,GAC9CZ,iBAAiB,GACjBJ,iBAAiB,CACtB,CACAqB,KAAK,CAACV,GAAG,CAAC;MAGf,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACA,GAAG,EAAEH,MAAM,EAAEC,aAAa,CAAC,CAAC;EAEhC,oBAAO;IAAK,KAAK,EAAE;MAACa,MAAM,EAAE;IAAO,CAAE;IAAC,GAAG,EAAEZ;EAAO;IAAA;IAAA;IAAA;EAAA,QAAO;AAC3D;AAAC,GA/BQL,GAAG;EAAA,QAIER,MAAM;AAAA;AAAA,KAJXQ,GAAG;AAiCZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}