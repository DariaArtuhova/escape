{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { Map, Marker, TileLayer } from 'leaflet';\nexport default function useMap(mapRef, city) {\n  _s();\n  const [map, setMap] = useState(null);\n  const isRefRendered = useRef(false);\n  useEffect(() => {\n    if (isRefRendered.current && map) {\n      map.eachLayer(layer => {\n        if (layer instanceof Marker) {\n          layer.remove();\n        }\n      });\n      map.setView([city[0].coords[0], city[0].coords[1]], map.getZoom());\n    }\n    if (mapRef.current !== null && !isRefRendered.current) {\n      const instance = new Map(mapRef.current, {\n        center: {\n          lat: city[0].coords[0],\n          lng: city[0].coords[1]\n        },\n        zoom: 10\n      });\n      const layer = new TileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n      });\n      instance.addLayer(layer);\n      setMap(instance);\n      isRefRendered.current = true;\n    }\n  }, [mapRef, city]);\n  return map;\n}\n_s(useMap, \"PCfm1EpF1vglxRigMANiOwcZ5Bg=\");","map":{"version":3,"names":["useEffect","useRef","useState","Map","Marker","TileLayer","useMap","mapRef","city","map","setMap","isRefRendered","current","eachLayer","layer","remove","setView","coords","getZoom","instance","center","lat","lng","zoom","attribution","addLayer"],"sources":["/Users/daria/Desktop/ escape/project/src/hooks/useMap.ts"],"sourcesContent":["import { MutableRefObject, useEffect, useRef, useState } from 'react';\nimport { Map, Marker, TileLayer } from 'leaflet';\nimport {LocationCoordinates} from '../types/booking-type';\n\nexport default function useMap(mapRef: MutableRefObject<HTMLElement | null>, city: LocationCoordinates): Map | null {\n\n  const [map, setMap] = useState<Map | null>(null);\n  const isRefRendered = useRef<boolean>(false);\n\n  useEffect(\n    () => {\n      if (isRefRendered.current && map)\n      {\n        map.eachLayer((layer) => {\n          if (layer instanceof Marker) {\n            layer.remove();\n          }\n        });\n        map.setView([city[0].coords[0], city[0].coords[1]], map.getZoom(), );\n      }\n\n      if (mapRef.current !== null && !isRefRendered.current)\n      {\n        const instance = new Map(mapRef.current, {\n          center: {\n            lat: city[0].coords[0],\n            lng: city[0].coords[1],\n          },\n          zoom: 10\n        });\n\n        const layer = new TileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n          {\n            attribution:\n              '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n          });\n        instance.addLayer(layer);\n        setMap(instance);\n\n        isRefRendered.current = true;\n      }\n    }, [mapRef, city]);\n\n  return map;\n}\n"],"mappings":";AAAA,SAA2BA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACrE,SAASC,GAAG,EAAEC,MAAM,EAAEC,SAAS,QAAQ,SAAS;AAGhD,eAAe,SAASC,MAAM,CAACC,MAA4C,EAAEC,IAAyB,EAAc;EAAA;EAElH,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGR,QAAQ,CAAa,IAAI,CAAC;EAChD,MAAMS,aAAa,GAAGV,MAAM,CAAU,KAAK,CAAC;EAE5CD,SAAS,CACP,MAAM;IACJ,IAAIW,aAAa,CAACC,OAAO,IAAIH,GAAG,EAChC;MACEA,GAAG,CAACI,SAAS,CAAEC,KAAK,IAAK;QACvB,IAAIA,KAAK,YAAYV,MAAM,EAAE;UAC3BU,KAAK,CAACC,MAAM,EAAE;QAChB;MACF,CAAC,CAAC;MACFN,GAAG,CAACO,OAAO,CAAC,CAACR,IAAI,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,CAAC,CAAC,EAAET,IAAI,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,CAAC,CAAC,CAAC,EAAER,GAAG,CAACS,OAAO,EAAE,CAAG;IACtE;IAEA,IAAIX,MAAM,CAACK,OAAO,KAAK,IAAI,IAAI,CAACD,aAAa,CAACC,OAAO,EACrD;MACE,MAAMO,QAAQ,GAAG,IAAIhB,GAAG,CAACI,MAAM,CAACK,OAAO,EAAE;QACvCQ,MAAM,EAAE;UACNC,GAAG,EAAEb,IAAI,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,CAAC,CAAC;UACtBK,GAAG,EAAEd,IAAI,CAAC,CAAC,CAAC,CAACS,MAAM,CAAC,CAAC;QACvB,CAAC;QACDM,IAAI,EAAE;MACR,CAAC,CAAC;MAEF,MAAMT,KAAK,GAAG,IAAIT,SAAS,CAAC,0EAA0E,EACpG;QACEmB,WAAW,EACT;MACJ,CAAC,CAAC;MACJL,QAAQ,CAACM,QAAQ,CAACX,KAAK,CAAC;MACxBJ,MAAM,CAACS,QAAQ,CAAC;MAEhBR,aAAa,CAACC,OAAO,GAAG,IAAI;IAC9B;EACF,CAAC,EAAE,CAACL,MAAM,EAAEC,IAAI,CAAC,CAAC;EAEpB,OAAOC,GAAG;AACZ;AAAC,GAxCuBH,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}